@import "tailwindcss";

:root {
  --color-primary: #357a38;
  --color-primary-light: #e8f5e9;
  --color-bg-white: #ffffff;
  --color-bg-gray: #f9fafb;
  --color-text-dark: #1f2937;
  --color-text-light: #6b7280;
}

html,
body,
#app {
  height: 100%;
  background-color: var(--color-bg-gray);
  color: var(--color-text-dark);
}

body {
  margin: 0;
}

button {
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
}

/* Minimal Markdown formatting for chat messages */
.chat-markdown {
  white-space: normal;
  word-break: break-word;
  margin-top: 1rem;
  @apply text-sm leading-relaxed text-slate-900;
}

.chat-markdown :where(p) {
  margin: 0;
}

.chat-markdown :where(p + p) {
  margin-top: 0.5rem;
}

.chat-markdown :where(ul, ol) {
  margin: 0.5rem 0 0.5rem;
  padding: 0;
  @apply pl-5 text-slate-900;
}

.chat-markdown :where(ul) {
  @apply list-disc list-outside;
}

.chat-markdown :where(ol) {
  @apply list-decimal list-outside;
}

.chat-markdown :where(li) {
  margin: 0.125rem 0;
}

.chat-markdown :where(li)::marker {
  @apply text-slate-400;
}

.chat-markdown :where(pre) {
  margin: 0.5rem 0 0;
  padding: 0.5rem;
  overflow: auto;
  border-radius: 0.5rem;
  @apply border border-slate-200 bg-slate-50;
}

.chat-markdown :where(.mermaid) {
  margin: 0.5rem 0 0;
  padding: 0.5rem;
  overflow: auto;
  border-radius: 0.5rem;
  @apply border border-slate-200 bg-slate-50;
}

.chat-markdown :where(.mermaid svg) {
  height: auto;
  max-width: 100%;
}

.chat-markdown :where(.mermaid svg text) {
  fill: currentColor;
}

/* Collapsible panels (used by chat details file cards) */
.odw-collapse-enter-active,
.odw-collapse-leave-active {
  transition: max-height 220ms ease, opacity 220ms ease;
}

.odw-collapse-enter-from,
.odw-collapse-leave-to {
  max-height: 0;
  opacity: 0;
}

.odw-collapse-enter-to,
.odw-collapse-leave-from {
  max-height: 2000px;
  opacity: 1;
}

.odw-collapsible-body {
  overflow: hidden;
}

.chat-markdown :where(code) {
  @apply rounded bg-slate-100 px-1 py-0.5 font-mono;
  font-size: 0.875em;
}

.chat-markdown :where(pre code) {
  font-size: 0.8125em;
  @apply bg-transparent p-0;
}

.chat-markdown :where(a) {
  @apply underline decoration-slate-300 underline-offset-2;
}

.chat-markdown :where(a:hover) {
  @apply decoration-slate-900;
}

.chat-markdown :where(h1, h2, h3) {
  margin: 0.5rem 0 0.25rem;
  font-weight: 600;
  @apply tracking-tight;
}

.chat-markdown :where(h1) {
  @apply text-lg;
}

.chat-markdown :where(h2) {
  @apply text-base;
}

.chat-markdown :where(h3) {
  @apply text-sm;
}

.chat-markdown :where(hr) {
  @apply my-4 border-slate-200;
}

.chat-markdown :where(blockquote) {
  @apply my-3 border-l-2 border-slate-200 pl-3 text-slate-700;
}

.chat-markdown :where(table) {
  @apply my-3 w-full border-collapse;
}

.chat-markdown :where(th, td) {
  @apply border border-slate-200 px-2 py-1 align-top;
}

.chat-markdown :where(th) {
  @apply bg-slate-50 text-left font-semibold;
}

/* --- Documentation Styles (Larger, prose-like) --- */
.doc-markdown {
  white-space: normal;
  word-break: break-word;
  @apply text-base leading-7 text-slate-900;
}

/* 
.doc-markdown :where(p) {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
} */

.doc-markdown :where(h1) {
  margin-top: 0;
  margin-bottom: 0.8888889em;
  font-size: 2.25em;
  line-height: 1.1111111;
  font-weight: 800;
  @apply text-slate-900 tracking-tight;
}

.doc-markdown :where(h2) {
  margin-top: 1em;
  margin-bottom: 1em;
  font-size: 1.5em;
  line-height: 1.3333333;
  font-weight: 700;
  @apply text-slate-900 tracking-tight;
}

.doc-markdown :where(h3) {
  margin-top: 1.6em;
  margin-bottom: 0.6em;
  font-size: 1.25em;
  line-height: 1.6;
  font-weight: 600;
  @apply text-slate-900 tracking-tight;
}

.doc-markdown :where(h3):first-child {
  margin-top: 0;
}

.doc-markdown :where(h4) {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  font-weight: 600;
}

.doc-markdown :where(ul, ol) {
  margin-top: .25em;
  margin-bottom: .25em;
  padding-left: 1.625em;
  @apply list-outside;
}

.doc-markdown :where(ul) {
  @apply list-disc;
}

.doc-markdown :where(ol) {
  @apply list-decimal;
}

.doc-markdown :where(li) {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.doc-markdown :where(a) {
  font-weight: 500;
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
  @apply text-blue-600 decoration-blue-300;
}

.doc-markdown :where(a:hover) {
  @apply text-blue-800 decoration-blue-800;
}

.doc-markdown :where(pre) {
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
  border-radius: 0.375rem;
  padding: 0.8571429em 1.1428571em;
  overflow-x: auto;
  font-size: 0.875em;
  line-height: 1.7142857;
  @apply bg-slate-900 text-slate-50;
}

.doc-markdown :where(code) {
  font-weight: 600;
  font-size: 0.875em;
  @apply font-mono text-slate-900 bg-slate-100 rounded px-1 py-0.5;
}

.doc-markdown :where(pre code) {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: 400;
  color: inherit;
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}

.doc-markdown :where(blockquote) {
  margin-top: 1.6em;
  margin-bottom: 1.6em;
  padding-left: 1em;
  font-style: italic;
  @apply border-l-4 border-slate-200 text-slate-700;
}

.doc-markdown :where(table) {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: 2em;
  margin-bottom: 2em;
  font-size: 0.875em;
  line-height: 1.7142857;
  border-collapse: collapse;
}

.doc-markdown :where(th) {
  font-weight: 600;
  padding: 0.5714286em 0.5714286em;
  @apply border-b border-slate-300 bg-slate-50 text-slate-900;
}

.doc-markdown :where(td) {
  padding: 0.5714286em 0.5714286em;
  @apply border-b border-slate-200 text-slate-500;
}

.doc-markdown :where(hr) {
  margin-top: 1em;
  margin-bottom: 1em;
  @apply border-slate-200;
}

.doc-markdown :where(.mermaid-diagram) {
  margin-top: 2em;
  margin-bottom: 2em;
}

/* Scroll margin for headings (for anchor links) */
.doc-markdown :where(h1, h2, h3, h4) {
  scroll-margin-top: 5rem;
}