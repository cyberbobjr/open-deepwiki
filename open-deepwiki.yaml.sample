# open-deepwiki configuration
# Loaded by the FastAPI app (and future indexer) via `OPEN_DEEPWIKI_CONFIG` or this default filename.

debug_level: INFO

# FastAPI / Uvicorn settings (used when starting via `./venv/bin/python app.py`)
api_port: 8000

# JavaDoc generation
# If an existing JavaDoc has fewer meaningful content lines than this value,
# it will be replaced ("improved").
javadoc_min_meaningful_lines: 3

# Chroma
# Disable anonymized telemetry (see https://docs.trychroma.com/telemetry)
chroma_anonymized_telemetry: false

# Root directory to scan/index for Java code.
# Example: /abs/path/to/repo or ./fixtures
java_codebase_dir: ./fixtures
# LLM (embeddings + chat)
# Ces champs alimentent automatiquement des variables d'env compatibles OpenAI/LangChain :
# - llm_api_key       -> OPENAI_API_KEY
# - llm_api_base      -> OPENAI_API_BASE + (par défaut) OPENAI_EMBEDDING_API_BASE + OPENAI_CHAT_API_BASE
# - embeddings_api_base -> (optionnel) override pour embeddings uniquement
# - chat_api_base       -> (optionnel) override pour chat uniquement
# - embeddings_model  -> OPENAI_EMBEDDING_MODEL
# - chat_model        -> OPENAI_CHAT_MODEL
#
# IMPORTANT:
# - Si tu veux la même URL pour embeddings + chat, renseigne uniquement `llm_api_base`.
# - Si tu as des gateways séparés, utilise `embeddings_api_base` / `chat_api_base` comme overrides.
#
# Exemple:
# embeddings_model: text-embedding-3-large
# chat_model: gpt-4o-mini
# llm_api_base: https://your-internal-api.example.com/v1
# embeddings_api_base: https://your-embeddings-gateway.example.com/v1
# chat_api_base: https://your-llm-gateway.example.com/v1
# llm_api_key: sk-...

embeddings_model: text-embedding-3-large
chat_model: gpt-4o-mini
llm_api_base: https://api.openai.com/v1
embeddings_api_base: null
chat_api_base: null
llm_api_key: null # mets la clé ici, ou préfère l’env `OPENAI_API_KEY`

# Embeddings compatibility
# If true, the embeddings client may send token-id arrays for long inputs.
# Many OpenAI-compatible embedding servers only accept string inputs.
# Default is false (string inputs).
embeddings_check_ctx_length: false

# SSL / TLS
# Optional: path to a PEM file containing root CA certificates for outbound HTTPS.
# Useful behind corporate proxies / custom PKI.
# If set, it is applied to: SSL_CERT_FILE, REQUESTS_CA_BUNDLE, CURL_CA_BUNDLE
ssl_ca_file: null

# Outbound proxies (downloads + API calls)
# These map to standard env vars: HTTP_PROXY/HTTPS_PROXY/NO_PROXY (also lower-case variants).
# Example:
# http_proxy: http://proxy.mycorp.local:3128
# https_proxy: http://proxy.mycorp.local:3128
# no_proxy: 127.0.0.1,localhost,.mycorp.local
http_proxy: null
https_proxy: null
no_proxy: null

# Optional: tiktoken cache directory (helps if encodings must be downloaded through proxy)
# Maps to: TIKTOKEN_CACHE_DIR
# Note: tiktoken caches by sha1(url), not by original filename.
tiktoken_cache_dir: null

# Optional: prefetch tiktoken encodings at startup (forces download/caching)
# If enabled and no encodings are provided, defaults to: ["cl100k_base"]
# Example:
# tiktoken_prefetch: true
# tiktoken_prefetch_encodings:
#   - cl100k_base
#   - o200k_base
tiktoken_prefetch: false
tiktoken_prefetch_encodings: null
